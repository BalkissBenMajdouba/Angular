<div class="container w-50">
    <h1 class="text-center pb-4 ">Ajouter Smartphone</h1>
    <form  #isFormValid="ngForm" [formGroup]="smartphoneFormGroup" class="form-group">

          <div class="mb-3">
            <!-- name -->
            <label for="name" class="form-label">nom</label>
            <input type="text" class="form-control" name="name" formControlName="name" id="name" placeholder="name">

            <!-- name errors -->
            <div *ngIf="name?.touched && name?.invalid">
              <small class="text-danger" *ngIf="name?.errors?.['required']">name is required</small>
              <small class="text-danger" *ngIf="name?.errors?.['minlength']">name is too short</small>
            </div>
          </div>

          <!-- price -->
          <div class="mb-3">
            <label for="price" class="form-label">prix</label>
            <input type="price" class="form-control" name="price" formControlName="price" id="price" placeholder="price">

            <!-- price errors -->
            <div *ngIf="price?.touched && price?.invalid">
              <small class="text-danger" *ngIf="price?.errors?.['required']">obligatoire</small>
              <small class="text-danger" *ngIf="price?.errors?.['pattern']">invalide</small>
            </div>
          </div>

          <!-- create(add) or update(put) -->
          <div class="mb-3">
            <!-- create -->
            <button *ngIf="!addOrPut" (click)="postSmartphone()" class="form-control btn btn-dark hvr" [disabled]="!isFormValid.valid">Ajouter</button>
            <!-- update -->
            <button *ngIf="addOrPut" (click)="putSmartphone()" class="form-control btn btn-warning hvr" [disabled]="!isFormValid.valid">Modifier</button>
          </div>
    </form>

<div *ngIf="array.length == 0" class="alert alert-warning text-center">Vide</div>
</div>

<div *ngIf="array.length != 0" class="container w-50">
  <table class="table table-striped table-bordered">
      <thead>
          <tr>
              <th>#Id</th>
              <th>Nom</th>
              <th>prix (TND)</th>
              <th>modifier</th>
              <th>supprimer</th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let eachCmd of array">
              <td scope="row">{{eachCmd.id}}</td>
              <td>{{eachCmd.name}}</td>
              <td>{{eachCmd.price}}</td>
              <td><button (click)="editSmartphone(eachCmd)" class="btn btn-warning">modifier</button></td>
              <td><button (click)="deleteSmartphone(eachCmd.id)" class="btn btn-danger">supprimer</button></td>
          </tr>

      </tbody>
  </table>
</div>



